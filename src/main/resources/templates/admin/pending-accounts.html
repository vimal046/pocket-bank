<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Pending Accounts - PocketBank Admin</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
	rel="stylesheet">
<style>
body {
	background: #f5f7fa;
	font-family: 'Segoe UI';
}

.main-container {
	max-width: 1200px;
	margin: 0 auto;
	padding: 20px;
}

.card {
	border-radius: 12px;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}
</style>
</head>
<body>
	<nav class="navbar navbar-expand-lg bg-dark navbar-dark">
		<div class="container-fluid main-container">
			<a class="navbar-brand" href="/admin/dashboard"><i
				class="bi bi-bank2"></i> PocketBank Admin</a>
			<div class="navbar-nav ms-auto">
				<a class="nav-link" href="/admin/dashboard">Dashboard</a>
			</div>
		</div>
	</nav>

	<div class="main-container mt-4">
		<h2 class="mb-4">
			<i class="bi bi-hourglass-split"></i> Pending Account Approvals
		</h2>

		<div th:if="${success}" class="alert alert-success alert-dismissible">
			<span th:text="${success}"></span>
			<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
		</div>

		<div class="card">
			<div class="card-body">
				<table class="table table-hover">
					<thead>
						<tr>
							<th>Account Number</th>
							<th>Account Type</th>
							<th>Customer Name</th>
							<th>Customer Email</th>
							<th>Created Date</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="account : ${accounts}">
							<td th:text="${account.accountNumber}"></td>
							<td th:text="${account.accountType}"></td>
							<td th:text="${account.user.fullName}"></td>
							<td th:text="${account.user.email}"></td>
							<td
								th:text="${#temporals.format(account.createdAt, 'dd-MM-yyyy')}"></td>
							<td>
								<form
									th:action="@{'/admin/accounts/' + ${account.id} + '/approve'}"
									method="post" style="display: inline;">
									<button type="submit" class="btn btn-success btn-sm">
										<i class="bi bi-check-circle"></i> Approve
									</button>
								</form>
								<form
									th:action="@{'/admin/accounts/' + ${account.id} + '/suspend'}"
									method="post" style="display: inline;">
									<button type="submit" class="btn btn-danger btn-sm">
										<i class="bi bi-x-circle"></i> Reject
									</button>
								</form>
							</td>
						</tr>
					</tbody>
				</table>

				<div th:if="${accounts.empty}" class="text-center text-muted py-4">
					<i class="bi bi-inbox" style="font-size: 3rem;"></i>
					<p>No pending accounts</p>
				</div>
			</div>
		</div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>